{
    "label": "Current Quarter Funnel Assessment",
    "mobileDisabled": false,
    "state": {
        "dataSourceLinks": [],
        "filters": [],
        "gridLayouts": [
            {
                "name": "Default",
                "numColumns": 25,
                "pages": [
                    {
                        "label": "CQ Status By Selling Team",
                        "name": "dcb07245-a4bc-4bc0-b83a-d218c751e4c0",
                        "navigationHidden": false,
                        "widgets": [
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "navigation_1",
                                "row": 1,
                                "rowspan": 2,
                                "widgetStyle": {
                                    "backgroundColor": "#006667",
                                    "borderEdges": []
                                }
                            },
                            {
                                "colspan": 20,
                                "column": 0,
                                "name": "chart_1",
                                "row": 5,
                                "rowspan": 43,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 5,
                                "column": 20,
                                "name": "table_1",
                                "row": 5,
                                "rowspan": 44,
                                "widgetStyle": {
                                    "backgroundColor": "rgb(0, 71, 80)",
                                    "borderColor": "#E6ECF2",
                                    "borderEdges": [],
                                    "borderRadius": 0,
                                    "borderWidth": 1
                                }
                            }
                        ]
                    },
                    {
                        "label": "CQ Status By Account",
                        "name": "7cde089b-a65c-427b-b908-39d4ecc68ce6",
                        "navigationHidden": false,
                        "widgets": [
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "navigation_2",
                                "row": 1,
                                "rowspan": 2,
                                "widgetStyle": {
                                    "backgroundColor": "#006667",
                                    "borderEdges": []
                                }
                            },
                            {
                                "colspan": 18,
                                "column": 0,
                                "name": "chart_2",
                                "row": 5,
                                "rowspan": 58,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 7,
                                "column": 18,
                                "name": "table_2",
                                "row": 5,
                                "rowspan": 75,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 18,
                                "column": 0,
                                "name": "chart_3",
                                "row": 63,
                                "rowspan": 8,
                                "widgetStyle": {
                                    "backgroundColor": "#FFFFFF",
                                    "borderColor": "#FFFFFF",
                                    "borderEdges": [],
                                    "borderRadius": 0,
                                    "borderWidth": 8
                                }
                            }
                        ]
                    },
                    {
                        "label": "CQ Status By Service Area",
                        "name": "11c0b3cd-326a-4220-815d-3db69b55da17",
                        "navigationHidden": false,
                        "widgets": [
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "navigation_3",
                                "row": 1,
                                "rowspan": 2,
                                "widgetStyle": {
                                    "backgroundColor": "#006667",
                                    "borderEdges": []
                                }
                            },
                            {
                                "colspan": 18,
                                "column": 0,
                                "name": "chart_4",
                                "row": 5,
                                "rowspan": 22,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 6,
                                "column": 18,
                                "name": "table_3",
                                "row": 5,
                                "rowspan": 22,
                                "widgetStyle": {}
                            }
                        ]
                    },
                    {
                        "label": "Funnel Activity by Selling Team",
                        "name": "e4a51dee-37f0-49ac-9ac6-eec7a9e64e86",
                        "navigationHidden": false,
                        "widgets": [
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "navigation_4",
                                "row": 1,
                                "rowspan": 2,
                                "widgetStyle": {
                                    "backgroundColor": "#006667",
                                    "borderEdges": []
                                }
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "chart_5",
                                "row": 5,
                                "rowspan": 39,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "text_1",
                                "row": 44,
                                "rowspan": 7,
                                "widgetStyle": {
                                    "backgroundColor": "#FFFFFF",
                                    "borderColor": "#E6ECF2",
                                    "borderEdges": [],
                                    "borderRadius": 0,
                                    "borderWidth": 1
                                }
                            }
                        ]
                    },
                    {
                        "label": "Funnel Activity by Account",
                        "name": "e6da3c63-eccd-4258-92c3-00135ce32d73",
                        "navigationHidden": false,
                        "widgets": [
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "navigation_5",
                                "row": 1,
                                "rowspan": 2,
                                "widgetStyle": {
                                    "backgroundColor": "#006667",
                                    "borderEdges": []
                                }
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "chart_7",
                                "row": 5,
                                "rowspan": 59,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "chart_9",
                                "row": 64,
                                "rowspan": 5,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "text_1",
                                "row": 69,
                                "rowspan": 7,
                                "widgetStyle": {
                                    "backgroundColor": "#FFFFFF",
                                    "borderColor": "#E6ECF2",
                                    "borderEdges": [],
                                    "borderRadius": 0,
                                    "borderWidth": 1
                                }
                            }
                        ]
                    },
                    {
                        "label": "Funnel Activity by Service Area",
                        "name": "2bb16cc8-6ea3-4446-9cc2-a9209aae3d69",
                        "navigationHidden": false,
                        "widgets": [
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "navigation_6",
                                "row": 1,
                                "rowspan": 2,
                                "widgetStyle": {
                                    "backgroundColor": "#006667",
                                    "borderColor": "#E6ECF2",
                                    "borderEdges": [],
                                    "borderRadius": 0,
                                    "borderWidth": 1
                                }
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "chart_6",
                                "row": 5,
                                "rowspan": 21,
                                "widgetStyle": {}
                            },
                            {
                                "colspan": 24,
                                "column": 0,
                                "name": "text_1",
                                "row": 26,
                                "rowspan": 7,
                                "widgetStyle": {
                                    "backgroundColor": "#FFFFFF",
                                    "borderColor": "#E6ECF2",
                                    "borderEdges": [],
                                    "borderRadius": 0,
                                    "borderWidth": 1
                                }
                            }
                        ]
                    }
                ],
                "rowHeight": "fine",
                "selectors": [],
                "style": {
                    "alignmentX": "left",
                    "alignmentY": "top",
                    "backgroundColor": "rgb(0, 71, 80)",
                    "cellSpacingX": 8,
                    "cellSpacingY": 0,
                    "fit": "original",
                    "gutterColor": "rgb(0, 71, 80)"
                },
                "version": 1
            }
        ],
        "layouts": [],
        "steps": {
            "Target_ServiceArea": {
                "broadcastFacet": true,
                "datasets": [
                    {
                        "id": "0FbD0000000XZBtKAO",
                        "label": "TARGETS",
                        "name": "TARGETS",
                        "url": "/services/data/v48.0/wave/datasets/0FbD0000000XZBtKAO"
                    }
                ],
                "isGlobal": false,
                "label": "Targets",
                "query": {
                    "measures": [
                        [
                            "sum",
                            "Amount",
                            "A"
                        ]
                    ],
                    "columns": [
                        {
                            "query": {
                                "measures": [
                                    [
                                        "sum",
                                        "Amount"
                                    ]
                                ],
                                "groups": [
                                    "Label"
                                ]
                            },
                            "header": "CQ Target"
                        }
                    ],
                    "groups": [
                        "Label"
                    ],
                    "filters": [
                        [
                            "Target_Bucket",
                            [
                                "Global Service Area Service Dashboard"
                            ],
                            "in"
                        ],
                        [
                            "Date",
                            [
                                [
                                    [
                                        "fiscal_quarter",
                                        0
                                    ],
                                    [
                                        "fiscal_quarter",
                                        0
                                    ]
                                ]
                            ],
                            ">=<="
                        ],
                        [
                            "Target_Category",
                            [
                                "New Business Wins"
                            ],
                            "in"
                        ]
                    ]
                },
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "type": "aggregateflex",
                "useGlobal": true,
                "visualizationParameters": {
                    "options": {
                        "totals": true
                    },
                    "parameters": {
                        "borderColor": "#e0e5ee",
                        "borderWidth": 1,
                        "cell": {
                            "backgroundColor": "#ffffff",
                            "fontColor": "#16325c",
                            "fontSize": 12
                        },
                        "columnProperties": {},
                        "columns": [],
                        "customBulkActions": [],
                        "header": {
                            "backgroundColor": "#f4f6f9",
                            "fontColor": "#16325c",
                            "fontSize": 12
                        },
                        "innerMajorBorderColor": "#a8b7c7",
                        "innerMinorBorderColor": "#e0e5ee",
                        "maxColumnWidth": 300,
                        "minColumnWidth": 40,
                        "mode": "variable",
                        "numberOfLines": 1,
                        "showActionMenu": true,
                        "showRowIndexColumn": false,
                        "totals": true,
                        "verticalPadding": 8
                    },
                    "type": "table"
                }
            },
            "Butterflychart_ServiceArea": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";q = filter q by 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\";q = filter q by !('Opportunity_ID__c.StageName' in [\"Closed\", \"Opportunity ID/Qualification\"]);q = filter q by 'Opportunity_ID__c.Sales_Adjustment_Opportuntiy__c' == \"false\";q = filter q by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nq_In = filter q by 'Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.StageName' in [\"Closed\", \"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\", \"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Submitted to Client\", \"Verbally Awarded\"];\nq_In = filter q_In by date('Opportunity_ID__c.RFP_Received_Date__c_Year', 'Opportunity_ID__c.RFP_Received_Date__c_Month', 'Opportunity_ID__c.RFP_Received_Date__c_Day') in [\"current year\"..\"current year\"];\nq_In = group q_In by ('Service_Line_c_textBucket2');\nq_In = foreach q_In generate 'Service_Line_c_textBucket2' as 'Service Area', \"In\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nq_Out = filter q by 'Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"];\nq_Out = filter q_Out by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current year\"..\"current year\"];\nq_Out = filter q_Out by 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nq_Out = group q_Out by ('Service_Line_c_textBucket2');\nq_Out = foreach q_Out generate 'Service_Line_c_textBucket2' as 'Service Area', \"Out\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nresult = union q_In, q_Out;\nresult = limit result 100000;\n",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Butterfly"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "Service Area"
                            ],
                            "plots": [
                                "FunnelActivity"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "Service Area",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "CQChart_SellingTeam": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; \nq_A = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nq_B = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqnt = cogroup q_A by ('Contract_Service_Line_c_AE_Region_c_textBucket') full, q_B by ('Contract_Service_Line_c_AE_Region_c_textBucket');\nqnt = foreach qnt generate coalesce(q_A.'Contract_Service_Line_c_AE_Region_c_textBucket', q_B.'Contract_Service_Line_c_AE_Region_c_textBucket') as 'AE Region', coalesce(sum(q_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(q_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CurrentQuarterNNBW';                 t = load \"TARGETS\";\nt = filter t by date('Date_Year', 'Date_Month', 'Date_Day') in [\"current quarter\"..\"current quarter\"];\nt = filter t by 'Target_Bucket' == \"Global Sales Dashboard\";\nt = group t by 'Selling_Team';\nt = foreach t generate 'Selling_Team' as 'AE Region', coalesce(sum('Amount'),0) as 'CQTarget';   result = union qnt, t; result = group result by 'AE Region'; result = foreach result generate 'AE Region' as 'AE Region', \"1NNBW\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 then coalesce(sum('CurrentQuarterNNBW'),0) else coalesce(sum('CQTarget'),0) end)  as 'CurrentQuarter';                o = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\no = filter o by 'Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\no = filter o by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\no = filter o by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\no = filter o by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\no = filter o by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\no = group o by 'AE_Region_c_textBucket';\no = foreach o generate 'AE_Region_c_textBucket' as 'AE Region', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CurrentQuarterRM';   ont = union o,t,qnt; ont = group ont by 'AE Region'; ont = foreach ont generate 'AE Region' as 'AE Region', \"2Roadmap@100%\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0) >0 then coalesce(sum('CurrentQuarterRM'),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 )  then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterRM'),0) end) as 'CurrentQuarter';                potential = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\np = filter potential by 'Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\np = filter p by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\np = filter p by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\np = filter p by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\np = filter p by 'Opportunity_ID__c.Amount' >= 3000000;\np = filter p by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_A = filter potential by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_B = filter potential by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\npotentialngwr = cogroup p by ('AE_Region_c_textBucket') left, gwr_A by ('AE_Region_c_textBucket') left, gwr_B by ('AE_Region_c_textBucket'); \npotentialngwr = foreach potentialngwr generate coalesce(p.'AE_Region_c_textBucket', gwr_A.'AE_Region_c_textBucket', gwr_B.'AE_Region_c_textBucket') as 'AE Region', coalesce(coalesce(sum(p.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwr_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwr_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CurrentQuarterPotentials';                 result1 = union qnt, o, t, potentialngwr; result1 = group result1 by 'AE Region'; result1 = foreach result1 generate 'AE Region' as 'AE Region', \"3Potentials@GWR\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0) >0 then coalesce(sum('CurrentQuarterPotentials'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterPotentials'),0) end) as 'CurrentQuarter';                funnel = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\nf = filter funnel by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nf = filter f by 'Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nf = filter f by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nf = filter f by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); fgwr_A = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwr_B = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nof = filter funnel by 'Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nof = filter of by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nof = filter of by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\nof = filter of by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; \npf = filter funnel by 'Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npf = filter pf by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npf = filter pf by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npf = filter pf by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npf = filter pf by 'Opportunity_ID__c.Amount' >= 3000000;\npf = filter pf by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_Af = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_Bf = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";                \nfunnelngwr = cogroup f by ('AE_Region_c_textBucket') left, fgwr_A by ('AE_Region_c_textBucket') left, fgwr_B by ('AE_Region_c_textBucket') left, of by ('AE_Region_c_textBucket') left, pf by ('AE_Region_c_textBucket') left, gwr_Af by ('AE_Region_c_textBucket') left, gwr_Bf by ('AE_Region_c_textBucket'); \nfunnelngwr = foreach funnelngwr generate coalesce(f.'AE_Region_c_textBucket', fgwr_A.'AE_Region_c_textBucket', fgwr_B.'AE_Region_c_textBucket', of.'AE_Region_c_textBucket', pf.'AE_Region_c_textBucket', gwr_Af.'AE_Region_c_textBucket', gwr_Bf.'AE_Region_c_textBucket') as 'AE Region', coalesce(((coalesce(sum(f.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(of.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pf.'Total_Value_of_Service_Area__c'),0))*  (round  (    coalesce(sum(fgwr_B.'Total_Value_of_Service_Area__c'),0)/    coalesce(sum(fgwr_A.'Total_Value_of_Service_Area__c'),0)    ,2)    )),0) as 'CurrentQuarterFunnel';   result2 = union o,qnt,t,potentialngwr,funnelngwr; result2 = group result2 by 'AE Region'; result2 = foreach result2 generate 'AE Region' as 'AE Region', \"4RemainingFunnel@GWR\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0) >0 then coalesce(sum('CurrentQuarterFunnel'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) - coalesce(sum('CurrentQuarterFunnel'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)-coalesce(sum('CurrentQuarterPotentials'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterFunnel'),0) end) as 'CurrentQuarter';                 qt = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; \nqt_A = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqt_B = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nresultA = cogroup qt_A by ('Contract_Service_Line_c_AE_Region_c_textBucket') full, qt_B by ('Contract_Service_Line_c_AE_Region_c_textBucket');\nresultA = foreach resultA generate coalesce(qt_A.'Contract_Service_Line_c_AE_Region_c_textBucket', qt_B.'Contract_Service_Line_c_AE_Region_c_textBucket') as 'AE Region', coalesce(sum(qt_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(qt_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CQNNBW'; ot = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\not = filter ot by 'Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not = filter ot by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not = filter ot by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not = filter ot by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\not = group ot by 'AE_Region_c_textBucket';\not = foreach ot generate 'AE_Region_c_textBucket' as 'AE Region', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CQROADMAP';                 potentialt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\npt = filter potentialt by 'Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt = filter pt by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt = filter pt by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt = filter pt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt = filter pt by 'Opportunity_ID__c.Amount' >= 3000000;\npt = filter pt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwrt_A = filter potentialt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwrt_B = filter potentialt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nresult1A = cogroup pt by ('AE_Region_c_textBucket') left, gwrt_A by ('AE_Region_c_textBucket') left, gwrt_B by ('AE_Region_c_textBucket'); \nresult1A = foreach result1A generate coalesce(pt.'AE_Region_c_textBucket', gwrt_A.'AE_Region_c_textBucket', gwrt_B.'AE_Region_c_textBucket') as 'AE Region', coalesce(coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQPOTENTIAL', coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0)  as 'CQPOTENTIALORIG';                funnelt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\nft = filter funnelt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nft = filter ft by 'Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nft = filter ft by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nft = filter ft by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); ot1 = filter funnelt by 'Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not1 = filter ot1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not1 = filter ot1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not1 = filter ot1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; pt1 = filter funnelt by 'Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt1 = filter pt1 by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt1 = filter pt1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt1 = filter pt1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt1 = filter pt1 by 'Opportunity_ID__c.Amount' >= 3000000;\npt1 = filter pt1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; fgwrt_A = filter funnelt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwrt_B = filter funnelt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nresult2A = cogroup ft by ('AE_Region_c_textBucket') left, ot1 by ('AE_Region_c_textBucket') left, pt1 by ('AE_Region_c_textBucket') left, fgwrt_A by ('AE_Region_c_textBucket') left, fgwrt_B by ('AE_Region_c_textBucket'); \nresult2A = foreach result2A generate coalesce(ot1.'AE_Region_c_textBucket', pt1.'AE_Region_c_textBucket', ft.'AE_Region_c_textBucket', fgwrt_A.'AE_Region_c_textBucket', fgwrt_B.'AE_Region_c_textBucket') as 'AE Region', coalesce((coalesce(sum(ft.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(ot1.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pt1.'Total_Value_of_Service_Area__c'),0)) * (round(coalesce(sum(fgwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(fgwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQFUNNEL';                result3 = union t, resultA, ot, result1A, result2A; result3 = group result3 by 'AE Region'; result3 = foreach result3 generate 'AE Region' as 'AE Region', \"5NeedToFind\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) >0 then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) else 0 end)  as 'CurrentQuarter';             \nSalesRegion = union result, ont, result1, result2, result3;\nSalesRegion = limit SalesRegion 10000;",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Segment"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "AE Region"
                            ],
                            "plots": [
                                "CurrentQuarter"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "AE Region",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "CQChart_Account_Tier12": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; q = filter q by 'Contract_Service_Line__c.Contract__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \nq_A = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nq_B = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqnt = cogroup q_A by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c','Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c') full, q_B by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c','Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c');\nqnt = foreach qnt generate coalesce(q_A.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c', q_B.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c') as 'Tier', coalesce(q_A.'Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c', q_B.'Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c') as 'Account', coalesce(sum(q_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(q_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CurrentQuarterNNBW';                 t = load \"TARGETS\"; t = filter t by 'Label' in [\"Tier 1\", \"Tier 2\"]; \nt = filter t by date('Date_Year', 'Date_Month', 'Date_Day') in [\"current quarter\"..\"current quarter\"];\nt = filter t by 'Target_Bucket' == \"TARGET ACCOUNT SERVICE AREA TARGET\";\nt = group t by ('Label','Sub_Label');\nt = foreach t generate 'Label' as 'Tier', 'Sub_Label' as 'Account', coalesce(sum('Amount'),0) as 'CQTarget';   result = union qnt, t; result = group result by ('Tier', 'Account'); result = foreach result generate 'Tier' as 'Tier', 'Account' as 'Account', \"1NNBW\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 then coalesce(sum('CurrentQuarterNNBW'),0) else coalesce(sum('CQTarget'),0) end)  as 'CurrentQuarter';                o = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; o = filter o by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \no = filter o by 'Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\no = filter o by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\no = filter o by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\no = filter o by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\no = filter o by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\no = group o by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c');\no = foreach o generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', 'Opportunity_ID__c.AccountId.Target_Account_Name__c' as 'Account', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CurrentQuarterRM';   ont = union o,t,qnt; ont = group ont by ('Tier', 'Account'); ont = foreach ont generate 'Tier' as 'Tier', 'Account' as 'Account', \"2Roadmap@100%\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0) >0 then coalesce(sum('CurrentQuarterRM'),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 )  then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterRM'),0) end) as 'CurrentQuarter';                potential = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; potential = filter potential by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"];\np = filter potential by 'Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\np = filter p by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\np = filter p by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\np = filter p by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\np = filter p by 'Opportunity_ID__c.Amount' >= 3000000;\np = filter p by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_A = filter potential by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_B = filter potential by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\npotentialngwr = cogroup p by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, gwr_A by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, gwr_B by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c'); \npotentialngwr = foreach potentialngwr generate coalesce(p.'Opportunity_ID__c.AccountId.Tier__c', gwr_A.'Opportunity_ID__c.AccountId.Tier__c', gwr_B.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(p.'Opportunity_ID__c.AccountId.Target_Account_Name__c', gwr_A.'Opportunity_ID__c.AccountId.Target_Account_Name__c', gwr_B.'Opportunity_ID__c.AccountId.Target_Account_Name__c') as 'Account', coalesce(coalesce(sum(p.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwr_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwr_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CurrentQuarterPotentials';                 result1 = union qnt, o, t, potentialngwr; result1 = group result1 by ('Tier', 'Account'); result1 = foreach result1 generate 'Tier' as 'Tier', 'Account' as 'Account', \"3Potentials@GWR\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0) >0 then coalesce(sum('CurrentQuarterPotentials'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterPotentials'),0) end) as 'CurrentQuarter';                funnel = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; funnel = filter funnel by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \nf = filter funnel by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nf = filter f by 'Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nf = filter f by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nf = filter f by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); fgwr_A = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwr_B = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nof = filter funnel by 'Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nof = filter of by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nof = filter of by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\nof = filter of by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; \npf = filter funnel by 'Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npf = filter pf by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npf = filter pf by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npf = filter pf by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npf = filter pf by 'Opportunity_ID__c.Amount' >= 3000000;\npf = filter pf by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_Af = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_Bf = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";                \nfunnelngwr = cogroup f by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, fgwr_A by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, fgwr_B by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, of by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, pf by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, gwr_Af by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, gwr_Bf by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c'); \nfunnelngwr = foreach funnelngwr generate coalesce(f.'Opportunity_ID__c.AccountId.Tier__c', fgwr_A.'Opportunity_ID__c.AccountId.Tier__c', fgwr_B.'Opportunity_ID__c.AccountId.Tier__c', of.'Opportunity_ID__c.AccountId.Tier__c', pf.'Opportunity_ID__c.AccountId.Tier__c', gwr_Af.'Opportunity_ID__c.AccountId.Tier__c', gwr_Bf.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(f.'Opportunity_ID__c.AccountId.Target_Account_Name__c', fgwr_A.'Opportunity_ID__c.AccountId.Target_Account_Name__c', fgwr_B.'Opportunity_ID__c.AccountId.Target_Account_Name__c', of.'Opportunity_ID__c.AccountId.Target_Account_Name__c', pf.'Opportunity_ID__c.AccountId.Target_Account_Name__c', gwr_Af.'Opportunity_ID__c.AccountId.Target_Account_Name__c', gwr_Bf.'Opportunity_ID__c.AccountId.Target_Account_Name__c') as 'Account', coalesce(((coalesce(sum(f.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(of.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pf.'Total_Value_of_Service_Area__c'),0))*  (round  (    coalesce(sum(fgwr_B.'Total_Value_of_Service_Area__c'),0)/    coalesce(sum(fgwr_A.'Total_Value_of_Service_Area__c'),0)    ,2)    )),0) as 'CurrentQuarterFunnel';   result2 = union o,qnt,t,potentialngwr,funnelngwr; result2 = group result2 by ('Tier', 'Account'); result2 = foreach result2 generate 'Tier' as 'Tier', 'Account' as 'Account', \"4RemainingFunnel@GWR\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0) >0 then coalesce(sum('CurrentQuarterFunnel'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) - coalesce(sum('CurrentQuarterFunnel'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)-coalesce(sum('CurrentQuarterPotentials'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterFunnel'),0) end) as 'CurrentQuarter';                 qt = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; qt = filter qt by 'Contract_Service_Line__c.Contract__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \nqt_A = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqt_B = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nresultA = cogroup qt_A by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c','Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c') full, qt_B by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c','Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c');\nresultA = foreach resultA generate coalesce(qt_A.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c', qt_B.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c') as 'Tier', coalesce(qt_A.'Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c', qt_B.'Contract_Service_Line__c.Contract__c.AccountId.Target_Account_Name__c') as 'Account', coalesce(sum(qt_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(qt_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CQNNBW'; ot = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; ot = filter ot by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \not = filter ot by 'Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not = filter ot by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not = filter ot by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not = filter ot by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\not = group ot by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c');\not = foreach ot generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', 'Opportunity_ID__c.AccountId.Target_Account_Name__c' as 'Account', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CQROADMAP';                 potentialt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; potentialt = filter potentialt by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \npt = filter potentialt by 'Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt = filter pt by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt = filter pt by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt = filter pt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt = filter pt by 'Opportunity_ID__c.Amount' >= 3000000;\npt = filter pt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwrt_A = filter potentialt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwrt_B = filter potentialt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nresult1A = cogroup pt by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, gwrt_A by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, gwrt_B by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c'); \nresult1A = foreach result1A generate coalesce(pt.'Opportunity_ID__c.AccountId.Tier__c', gwrt_A.'Opportunity_ID__c.AccountId.Tier__c', gwrt_B.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(pt.'Opportunity_ID__c.AccountId.Target_Account_Name__c', gwrt_A.'Opportunity_ID__c.AccountId.Target_Account_Name__c', gwrt_B.'Opportunity_ID__c.AccountId.Target_Account_Name__c') as 'Account', coalesce(coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQPOTENTIAL', coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0)  as 'CQPOTENTIALORIG';                funnelt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; funnelt = filter funnelt by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"]; \nft = filter funnelt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nft = filter ft by 'Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nft = filter ft by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nft = filter ft by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); ot1 = filter funnelt by 'Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not1 = filter ot1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not1 = filter ot1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not1 = filter ot1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; pt1 = filter funnelt by 'Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt1 = filter pt1 by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt1 = filter pt1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt1 = filter pt1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt1 = filter pt1 by 'Opportunity_ID__c.Amount' >= 3000000;\npt1 = filter pt1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; fgwrt_A = filter funnelt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwrt_B = filter funnelt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nresult2A = cogroup ft by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, ot1 by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, pt1 by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, fgwrt_A by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c') left, fgwrt_B by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c'); \nresult2A = foreach result2A generate coalesce(ot1.'Opportunity_ID__c.AccountId.Tier__c', pt1.'Opportunity_ID__c.AccountId.Tier__c', ft.'Opportunity_ID__c.AccountId.Tier__c', fgwrt_A.'Opportunity_ID__c.AccountId.Tier__c', fgwrt_B.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(ot1.'Opportunity_ID__c.AccountId.Target_Account_Name__c', pt1.'Opportunity_ID__c.AccountId.Target_Account_Name__c', ft.'Opportunity_ID__c.AccountId.Target_Account_Name__c', fgwrt_A.'Opportunity_ID__c.AccountId.Target_Account_Name__c', fgwrt_B.'Opportunity_ID__c.AccountId.Target_Account_Name__c') as 'Account', coalesce((coalesce(sum(ft.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(ot1.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pt1.'Total_Value_of_Service_Area__c'),0)) * (round(coalesce(sum(fgwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(fgwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQFUNNEL';                result3 = union t, resultA, ot, result1A, result2A; result3 = group result3 by ('Tier', 'Account'); result3 = foreach result3 generate 'Tier' as 'Tier', 'Account' as 'Account', \"5NeedToFind\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) >0 then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) else 0 end)  as 'CurrentQuarter';             \nSalesRegion = union result, ont, result1, result2, result3;\nSalesRegion = limit SalesRegion 10000;",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Segment"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "Tier",
                                "Account"
                            ],
                            "plots": [
                                "CurrentQuarter"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "AE Region",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "Target_SellingTeam": {
                "broadcastFacet": true,
                "datasets": [
                    {
                        "id": "0FbD0000000XZBtKAO",
                        "label": "TARGETS",
                        "name": "TARGETS",
                        "url": "/services/data/v48.0/wave/datasets/0FbD0000000XZBtKAO"
                    }
                ],
                "isGlobal": false,
                "label": "Targets",
                "query": {
                    "measures": [
                        [
                            "sum",
                            "Amount",
                            "A"
                        ]
                    ],
                    "columns": [
                        {
                            "query": {
                                "measures": [
                                    [
                                        "sum",
                                        "Amount"
                                    ]
                                ],
                                "groups": [
                                    "Selling_Team"
                                ]
                            },
                            "header": "CQ Target"
                        }
                    ],
                    "groups": [
                        "Selling_Team"
                    ],
                    "filters": [
                        [
                            "Target_Bucket",
                            [
                                "Global Sales Dashboard"
                            ],
                            "in"
                        ],
                        [
                            "Date",
                            [
                                [
                                    [
                                        "fiscal_quarter",
                                        0
                                    ],
                                    [
                                        "fiscal_quarter",
                                        0
                                    ]
                                ]
                            ],
                            ">=<="
                        ]
                    ]
                },
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "type": "aggregateflex",
                "useGlobal": true,
                "visualizationParameters": {
                    "options": {
                        "totals": true
                    },
                    "parameters": {
                        "borderColor": "#e0e5ee",
                        "borderWidth": 1,
                        "cell": {
                            "backgroundColor": "#ffffff",
                            "fontColor": "#16325c",
                            "fontSize": 12
                        },
                        "columnProperties": {},
                        "columns": [],
                        "customBulkActions": [],
                        "header": {
                            "backgroundColor": "#f4f6f9",
                            "fontColor": "#16325c",
                            "fontSize": 12
                        },
                        "innerMajorBorderColor": "#a8b7c7",
                        "innerMinorBorderColor": "#e0e5ee",
                        "maxColumnWidth": 300,
                        "minColumnWidth": 40,
                        "mode": "variable",
                        "numberOfLines": 1,
                        "showActionMenu": true,
                        "showRowIndexColumn": false,
                        "totals": true,
                        "verticalPadding": 8
                    },
                    "type": "table"
                }
            },
            "CQChart_ServiceArea": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; \nq_A = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nq_B = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqnt = cogroup q_A by ('Service_Target_Mapping_Lookup_Key_c_textBucket1_te1') full, q_B by ('Service_Target_Mapping_Lookup_Key_c_textBucket1_te1');\nqnt = foreach qnt generate coalesce(q_A.'Service_Target_Mapping_Lookup_Key_c_textBucket1_te1', q_B.'Service_Target_Mapping_Lookup_Key_c_textBucket1_te1') as 'Service Area', coalesce(sum(q_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(q_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CurrentQuarterNNBW';                 t = load \"TARGETS\";t = filter t by 'Target_Category' == \"New Business Wins\";\nt = filter t by date('Date_Year', 'Date_Month', 'Date_Day') in [\"current quarter\"..\"current quarter\"];\nt = filter t by 'Target_Bucket' == \"Global Service Area Service Dashboard\";\nt = group t by 'Label';\nt = foreach t generate 'Label' as 'Service Area', coalesce(sum('Amount'),0) as 'CQTarget';   result = union qnt, t; result = group result by 'Service Area'; result = foreach result generate 'Service Area' as 'Service Area', \"1NNBW\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 then coalesce(sum('CurrentQuarterNNBW'),0) else coalesce(sum('CQTarget'),0) end)  as 'CurrentQuarter';                o = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\no = filter o by 'Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\no = filter o by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\no = filter o by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\no = filter o by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\no = filter o by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\no = group o by 'Service_Line_c_textBucket2';\no = foreach o generate 'Service_Line_c_textBucket2' as 'Service Area', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CurrentQuarterRM';   ont = union o,t,qnt; ont = group ont by 'Service Area'; ont = foreach ont generate 'Service Area' as 'Service Area', \"2Roadmap@100%\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0) >0 then coalesce(sum('CurrentQuarterRM'),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 )  then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterRM'),0) end) as 'CurrentQuarter';                potential = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\np = filter potential by 'Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\np = filter p by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\np = filter p by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\np = filter p by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\np = filter p by 'Opportunity_ID__c.Amount' >= 3000000;\np = filter p by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_A = filter potential by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_B = filter potential by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\npotentialngwr = cogroup p by ('Service_Line_c_textBucket2') left, gwr_A by ('Service_Line_c_textBucket2') left, gwr_B by ('Service_Line_c_textBucket2'); \npotentialngwr = foreach potentialngwr generate coalesce(p.'Service_Line_c_textBucket2', gwr_A.'Service_Line_c_textBucket2', gwr_B.'Service_Line_c_textBucket2') as 'Service Area', coalesce(coalesce(sum(p.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwr_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwr_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CurrentQuarterPotentials';                 result1 = union qnt, o, t, potentialngwr; result1 = group result1 by 'Service Area'; result1 = foreach result1 generate 'Service Area' as 'Service Area', \"3Potentials@GWR\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0) >0 then coalesce(sum('CurrentQuarterPotentials'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterPotentials'),0) end) as 'CurrentQuarter';                funnel = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\nf = filter funnel by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nf = filter f by 'Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nf = filter f by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nf = filter f by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); fgwr_A = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwr_B = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nof = filter funnel by 'Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nof = filter of by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nof = filter of by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\nof = filter of by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; \npf = filter funnel by 'Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npf = filter pf by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npf = filter pf by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npf = filter pf by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npf = filter pf by 'Opportunity_ID__c.Amount' >= 3000000;\npf = filter pf by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_Af = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_Bf = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";                \nfunnelngwr = cogroup f by ('Service_Line_c_textBucket2') left, fgwr_A by ('Service_Line_c_textBucket2') left, fgwr_B by ('Service_Line_c_textBucket2') left, of by ('Service_Line_c_textBucket2') left, pf by ('Service_Line_c_textBucket2') left, gwr_Af by ('Service_Line_c_textBucket2') left, gwr_Bf by ('Service_Line_c_textBucket2'); \nfunnelngwr = foreach funnelngwr generate coalesce(f.'Service_Line_c_textBucket2', fgwr_A.'Service_Line_c_textBucket2', fgwr_B.'Service_Line_c_textBucket2', of.'Service_Line_c_textBucket2', pf.'Service_Line_c_textBucket2', gwr_Af.'Service_Line_c_textBucket2', gwr_Bf.'Service_Line_c_textBucket2') as 'Service Area', coalesce(((coalesce(sum(f.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(of.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pf.'Total_Value_of_Service_Area__c'),0))*  (round  (    coalesce(sum(fgwr_B.'Total_Value_of_Service_Area__c'),0)/    coalesce(sum(fgwr_A.'Total_Value_of_Service_Area__c'),0)    ,2)    )),0) as 'CurrentQuarterFunnel';   result2 = union o,qnt,t,potentialngwr,funnelngwr; result2 = group result2 by 'Service Area'; result2 = foreach result2 generate 'Service Area' as 'Service Area', \"4RemainingFunnel@GWR\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0) >0 then coalesce(sum('CurrentQuarterFunnel'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) - coalesce(sum('CurrentQuarterFunnel'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)-coalesce(sum('CurrentQuarterPotentials'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterFunnel'),0) end) as 'CurrentQuarter';                 qt = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; \nqt_A = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqt_B = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nresultA = cogroup qt_A by ('Service_Target_Mapping_Lookup_Key_c_textBucket1_te1') full, qt_B by ('Service_Target_Mapping_Lookup_Key_c_textBucket1_te1');\nresultA = foreach resultA generate coalesce(qt_A.'Service_Target_Mapping_Lookup_Key_c_textBucket1_te1', qt_B.'Service_Target_Mapping_Lookup_Key_c_textBucket1_te1') as 'Service Area', coalesce(sum(qt_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(qt_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CQNNBW'; ot = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\not = filter ot by 'Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not = filter ot by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not = filter ot by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not = filter ot by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\not = group ot by 'Service_Line_c_textBucket2';\not = foreach ot generate 'Service_Line_c_textBucket2' as 'Service Area', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CQROADMAP';                 potentialt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\npt = filter potentialt by 'Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt = filter pt by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt = filter pt by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt = filter pt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt = filter pt by 'Opportunity_ID__c.Amount' >= 3000000;\npt = filter pt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwrt_A = filter potentialt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwrt_B = filter potentialt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nresult1A = cogroup pt by ('Service_Line_c_textBucket2') left, gwrt_A by ('Service_Line_c_textBucket2') left, gwrt_B by ('Service_Line_c_textBucket2'); \nresult1A = foreach result1A generate coalesce(pt.'Service_Line_c_textBucket2', gwrt_A.'Service_Line_c_textBucket2', gwrt_B.'Service_Line_c_textBucket2') as 'Service Area', coalesce(coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQPOTENTIAL', coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0)  as 'CQPOTENTIALORIG';                funnelt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";\nft = filter funnelt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nft = filter ft by 'Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nft = filter ft by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nft = filter ft by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); ot1 = filter funnelt by 'Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not1 = filter ot1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not1 = filter ot1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not1 = filter ot1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; pt1 = filter funnelt by 'Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt1 = filter pt1 by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt1 = filter pt1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt1 = filter pt1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt1 = filter pt1 by 'Opportunity_ID__c.Amount' >= 3000000;\npt1 = filter pt1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; fgwrt_A = filter funnelt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwrt_B = filter funnelt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nresult2A = cogroup ft by ('Service_Line_c_textBucket2') left, ot1 by ('Service_Line_c_textBucket2') left, pt1 by ('Service_Line_c_textBucket2') left, fgwrt_A by ('Service_Line_c_textBucket2') left, fgwrt_B by ('Service_Line_c_textBucket2'); \nresult2A = foreach result2A generate coalesce(ot1.'Service_Line_c_textBucket2', pt1.'Service_Line_c_textBucket2', ft.'Service_Line_c_textBucket2', fgwrt_A.'Service_Line_c_textBucket2', fgwrt_B.'Service_Line_c_textBucket2') as 'Service Area', coalesce((coalesce(sum(ft.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(ot1.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pt1.'Total_Value_of_Service_Area__c'),0)) * (round(coalesce(sum(fgwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(fgwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQFUNNEL';                result3 = union t, resultA, ot, result1A, result2A; result3 = group result3 by 'Service Area'; result3 = foreach result3 generate 'Service Area' as 'Service Area', \"5NeedToFind\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) >0 then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) else 0 end)  as 'CurrentQuarter';             \nSalesRegion = union result, ont, result1, result2, result3;\nSalesRegion = limit SalesRegion 10000;",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Segment"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "Service Area"
                            ],
                            "plots": [
                                "CurrentQuarter"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "Service Area",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "Butterflychart_Tier3": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";q = filter q by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"];q = filter q by 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\";q = filter q by !('Opportunity_ID__c.StageName' in [\"Closed\", \"Opportunity ID/Qualification\"]);q = filter q by 'Opportunity_ID__c.Sales_Adjustment_Opportuntiy__c' == \"false\";q = filter q by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nq_In = filter q by 'Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.StageName' in [\"Closed\", \"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\", \"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Submitted to Client\", \"Verbally Awarded\"];\nq_In = filter q_In by date('Opportunity_ID__c.RFP_Received_Date__c_Year', 'Opportunity_ID__c.RFP_Received_Date__c_Month', 'Opportunity_ID__c.RFP_Received_Date__c_Day') in [\"current year\"..\"current year\"];\nq_In = group q_In by ('Opportunity_ID__c.AccountId.Tier__c');\nq_In = foreach q_In generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', \"In\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nq_Out = filter q by 'Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"];\nq_Out = filter q_Out by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current year\"..\"current year\"];\nq_Out = filter q_Out by 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nq_Out = group q_Out by ('Opportunity_ID__c.AccountId.Tier__c');\nq_Out = foreach q_Out generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', \"Out\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nresult = union q_In, q_Out;\nresult = limit result 100000;\n",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Butterfly"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "Tier"
                            ],
                            "plots": [
                                "FunnelActivity"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "Tier",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "Butterflychart_SellingTeam": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";q = filter q by 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\";q = filter q by !('Opportunity_ID__c.StageName' in [\"Closed\", \"Opportunity ID/Qualification\"]);q = filter q by 'Opportunity_ID__c.Sales_Adjustment_Opportuntiy__c' == \"false\";q = filter q by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nq_In = filter q by 'Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.StageName' in [\"Closed\", \"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\", \"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Submitted to Client\", \"Verbally Awarded\"];\nq_In = filter q_In by date('Opportunity_ID__c.RFP_Received_Date__c_Year', 'Opportunity_ID__c.RFP_Received_Date__c_Month', 'Opportunity_ID__c.RFP_Received_Date__c_Day') in [\"current year\"..\"current year\"];\nq_In = group q_In by ('AE_Region_c_textBucket');\nq_In = foreach q_In generate 'AE_Region_c_textBucket' as 'AE Region', \"In\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nq_Out = filter q by 'Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"];\nq_Out = filter q_Out by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current year\"..\"current year\"];\nq_Out = filter q_Out by 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nq_Out = group q_Out by ('AE_Region_c_textBucket');\nq_Out = foreach q_Out generate 'AE_Region_c_textBucket' as 'AE Region', \"Out\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nresult = union q_In, q_Out;\nresult = limit result 100000;\n",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Butterfly"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "AE Region"
                            ],
                            "plots": [
                                "FunnelActivity"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "AE Region",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "Target_Account_Tier": {
                "broadcastFacet": true,
                "datasets": [
                    {
                        "id": "0FbD0000000XZBtKAO",
                        "label": "TARGETS",
                        "name": "TARGETS",
                        "url": "/services/data/v48.0/wave/datasets/0FbD0000000XZBtKAO"
                    }
                ],
                "isGlobal": false,
                "label": "Targets",
                "query": {
                    "measures": [
                        [
                            "sum",
                            "Amount",
                            "A"
                        ]
                    ],
                    "columns": [
                        {
                            "query": {
                                "measures": [
                                    [
                                        "sum",
                                        "Amount"
                                    ]
                                ],
                                "groups": [
                                    "Label",
                                    "Sub_Label"
                                ]
                            },
                            "header": "CQ Target"
                        }
                    ],
                    "groups": [
                        "Label",
                        "Sub_Label"
                    ],
                    "filters": [
                        [
                            "Target_Bucket",
                            [
                                "TARGET ACCOUNT SERVICE AREA TARGET"
                            ],
                            "in"
                        ],
                        [
                            "Date",
                            [
                                [
                                    [
                                        "fiscal_quarter",
                                        0
                                    ],
                                    [
                                        "fiscal_quarter",
                                        0
                                    ]
                                ]
                            ],
                            ">=<="
                        ]
                    ]
                },
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "type": "aggregateflex",
                "useGlobal": true,
                "visualizationParameters": {
                    "options": {
                        "totals": true
                    },
                    "parameters": {
                        "borderColor": "#e0e5ee",
                        "borderWidth": 1,
                        "cell": {
                            "backgroundColor": "#ffffff",
                            "fontColor": "#16325c",
                            "fontSize": 12
                        },
                        "columnProperties": {},
                        "columns": [],
                        "customBulkActions": [],
                        "header": {
                            "backgroundColor": "#f4f6f9",
                            "fontColor": "#16325c",
                            "fontSize": 12
                        },
                        "innerMajorBorderColor": "#a8b7c7",
                        "innerMinorBorderColor": "#e0e5ee",
                        "maxColumnWidth": 300,
                        "minColumnWidth": 40,
                        "mode": "variable",
                        "numberOfLines": 1,
                        "showActionMenu": true,
                        "showRowIndexColumn": false,
                        "totals": true,
                        "verticalPadding": 8
                    },
                    "type": "table"
                }
            },
            "CQChart_Account_Tier3": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; q = filter q by 'Contract_Service_Line__c.Contract__c.AccountId.Tier__c' in [\"Tier 3\"]; \nq_A = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nq_B = filter q by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqnt = cogroup q_A by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c') full, q_B by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c');\nqnt = foreach qnt generate coalesce(q_A.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c', q_B.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c') as 'Tier', coalesce(sum(q_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(q_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CurrentQuarterNNBW';                 t = load \"TARGETS\"; t = filter t by 'Label' in [\"Tier 3\"]; \nt = filter t by date('Date_Year', 'Date_Month', 'Date_Day') in [\"current quarter\"..\"current quarter\"];\nt = filter t by 'Target_Bucket' == \"TARGET ACCOUNT SERVICE AREA TARGET\";\nt = group t by ('Label');\nt = foreach t generate 'Label' as 'Tier', coalesce(sum('Amount'),0) as 'CQTarget';   result = union qnt, t; result = group result by ('Tier'); result = foreach result generate 'Tier' as 'Tier', \"1NNBW\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 then coalesce(sum('CurrentQuarterNNBW'),0) else coalesce(sum('CQTarget'),0) end)  as 'CurrentQuarter';                o = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; o = filter o by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"]; \no = filter o by 'Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\no = filter o by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\no = filter o by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\no = filter o by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\no = filter o by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\no = filter o by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\no = group o by ('Opportunity_ID__c.AccountId.Tier__c');\no = foreach o generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CurrentQuarterRM';   ont = union o,t,qnt; ont = group ont by ('Tier'); ont = foreach ont generate 'Tier' as 'Tier', \"2Roadmap@100%\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0) >0 then coalesce(sum('CurrentQuarterRM'),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) >0 )  then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterRM'),0) end) as 'CurrentQuarter';                potential = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; potential = filter potential by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"];\np = filter potential by 'Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\np = filter p by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\np = filter p by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\np = filter p by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\np = filter p by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\np = filter p by 'Opportunity_ID__c.Amount' >= 3000000;\np = filter p by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_A = filter potential by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_B = filter potential by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\npotentialngwr = cogroup p by ('Opportunity_ID__c.AccountId.Tier__c') left, gwr_A by ('Opportunity_ID__c.AccountId.Tier__c') left, gwr_B by ('Opportunity_ID__c.AccountId.Tier__c'); \npotentialngwr = foreach potentialngwr generate coalesce(p.'Opportunity_ID__c.AccountId.Tier__c', gwr_A.'Opportunity_ID__c.AccountId.Tier__c', gwr_B.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(coalesce(sum(p.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwr_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwr_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CurrentQuarterPotentials';                 result1 = union qnt, o, t, potentialngwr; result1 = group result1 by ('Tier'); result1 = foreach result1 generate 'Tier' as 'Tier', \"3Potentials@GWR\" as 'Segment', (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0) >0 then coalesce(sum('CurrentQuarterPotentials'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterPotentials'),0) end) as 'CurrentQuarter';                funnel = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; funnel = filter funnel by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"]; \nf = filter funnel by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nf = filter f by 'Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nf = filter f by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nf = filter f by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nf = filter f by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); fgwr_A = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwr_B = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nof = filter funnel by 'Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nof = filter of by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nof = filter of by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nof = filter of by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\nof = filter of by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; \npf = filter funnel by 'Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npf = filter pf by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npf = filter pf by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npf = filter pf by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npf = filter pf by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npf = filter pf by 'Opportunity_ID__c.Amount' >= 3000000;\npf = filter pf by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwr_Af = filter funnel by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwr_Bf = filter funnel by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";                \nfunnelngwr = cogroup f by ('Opportunity_ID__c.AccountId.Tier__c') left, fgwr_A by ('Opportunity_ID__c.AccountId.Tier__c') left, fgwr_B by ('Opportunity_ID__c.AccountId.Tier__c') left, of by ('Opportunity_ID__c.AccountId.Tier__c') left, pf by ('Opportunity_ID__c.AccountId.Tier__c') left, gwr_Af by ('Opportunity_ID__c.AccountId.Tier__c') left, gwr_Bf by ('Opportunity_ID__c.AccountId.Tier__c'); \nfunnelngwr = foreach funnelngwr generate coalesce(f.'Opportunity_ID__c.AccountId.Tier__c', fgwr_A.'Opportunity_ID__c.AccountId.Tier__c', fgwr_B.'Opportunity_ID__c.AccountId.Tier__c', of.'Opportunity_ID__c.AccountId.Tier__c', pf.'Opportunity_ID__c.AccountId.Tier__c', gwr_Af.'Opportunity_ID__c.AccountId.Tier__c', gwr_Bf.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(((coalesce(sum(f.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(of.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pf.'Total_Value_of_Service_Area__c'),0))*  (round  (    coalesce(sum(fgwr_B.'Total_Value_of_Service_Area__c'),0)/    coalesce(sum(fgwr_A.'Total_Value_of_Service_Area__c'),0)    ,2)    )),0) as 'CurrentQuarterFunnel';   result2 = union o,qnt,t,potentialngwr,funnelngwr; result2 = group result2 by ('Tier'); result2 = foreach result2 generate 'Tier' as 'Tier', \"4RemainingFunnel@GWR\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-   coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0) >0 then coalesce(sum('CurrentQuarterFunnel'),0) when  (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0) - coalesce(sum('CurrentQuarterFunnel'),0) ,0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) >0 ) then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)-coalesce(sum('CurrentQuarterPotentials'),0),0) when (coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)-coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0)- coalesce(sum('CurrentQuarterFunnel'),0),0)<0 && coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CurrentQuarterNNBW'),0)- coalesce(sum('CurrentQuarterRM'),0)- coalesce(sum('CurrentQuarterPotentials'),0),0) <0 ) then 0   else coalesce(sum('CurrentQuarterFunnel'),0) end) as 'CurrentQuarter';                 qt = load \"Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups\"; qt = filter qt by 'Contract_Service_Line__c.Contract__c.AccountId.Tier__c' in [\"Tier 3\"]; \nqt_A = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && date('Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Proposal_Awarded_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nqt_B = filter qt by 'Contract_Service_Line__c.Contract__c.Latest_Version__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Status' == \"Contract Executed\" && date('Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Year', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Month', 'Contract_Service_Line__c.Contract__c.Contract_Execution_Date__c_Day') in [\"current quarter\"..\"current quarter\"] && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.Primary_Scenario__c' == \"true\" && 'Contract_Service_Line__c.Contract__c.Related_Opportunity__c.StageName' == \"Closed Won\";\nresultA = cogroup qt_A by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c') full, qt_B by ('Contract_Service_Line__c.Contract__c.AccountId.Tier__c');\nresultA = foreach resultA generate coalesce(qt_A.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c', qt_B.'Contract_Service_Line__c.Contract__c.AccountId.Tier__c') as 'Tier', coalesce(sum(qt_A.'Proposal_Award_Amount_Service__c'),0)+coalesce(sum(qt_B.'ContractRegionalServiceExecutedAdjustmentFormula'),0) as 'CQNNBW'; ot = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; ot = filter ot by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"]; \not = filter ot by 'Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not = filter ot by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not = filter ot by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not = filter ot by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not = filter ot by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\not = group ot by ('Opportunity_ID__c.AccountId.Tier__c');\not = foreach ot generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', coalesce(sum('Total_Value_of_Service_Area__c'),0) as 'CQROADMAP';                 potentialt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; potentialt = filter potentialt by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"]; \npt = filter potentialt by 'Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt = filter pt by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt = filter pt by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt = filter pt by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt = filter pt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt = filter pt by 'Opportunity_ID__c.Amount' >= 3000000;\npt = filter pt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; gwrt_A = filter potentialt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\ngwrt_B = filter potentialt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nresult1A = cogroup pt by ('Opportunity_ID__c.AccountId.Tier__c') left, gwrt_A by ('Opportunity_ID__c.AccountId.Tier__c') left, gwrt_B by ('Opportunity_ID__c.AccountId.Tier__c'); \nresult1A = foreach result1A generate coalesce(pt.'Opportunity_ID__c.AccountId.Tier__c', gwrt_A.'Opportunity_ID__c.AccountId.Tier__c', gwrt_B.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce(coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0) * (round(coalesce(sum(gwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(gwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQPOTENTIAL', coalesce(sum(pt.'Total_Value_of_Service_Area__c'),0)  as 'CQPOTENTIALORIG';                funnelt = load \"Opportunity_with_Service_Area_New_Service_Area_Group\"; funnelt = filter funnelt by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 3\"]; \nft = filter funnelt by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\nft = filter ft by 'Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nft = filter ft by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\nft = filter ft by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nft = filter ft by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]); ot1 = filter funnelt by 'Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\not1 = filter ot1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\not1 = filter ot1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\not1 = filter ot1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"true\";\not1 = filter ot1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"]; pt1 = filter funnelt by 'Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Potentials__c' == \"true\";\npt1 = filter pt1 by 'Opportunity_ID__c.Add_to_Roadmap__c' == \"false\";\npt1 = filter pt1 by !('Opportunity_ID__c.AccountId.Name' in [\"GPT Test Account\", \"Sales Adjustment Account\"]);\npt1 = filter pt1 by 'Opportunity_ID__c.StageName' in [\"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Opportunity ID/Qualification\", \"Submitted to Client\", \"Verbally Awarded\"];\npt1 = filter pt1 by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current quarter\"..\"current quarter\"];\npt1 = filter pt1 by 'Opportunity_ID__c.Amount' >= 3000000;\npt1 = filter pt1 by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0; fgwrt_A = filter funnelt by 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"] && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nfgwrt_B = filter funnelt by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0 && 'Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Latest_Version__c' == \"true\" && 'Opportunity_ID__c.Primary_Scenario__c' == \"true\" && 'Opportunity_ID__c.StageName' == \"Closed Won\" && date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"6 quarters ago\"..\"current quarter\"] && 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\" && 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\"; \nresult2A = cogroup ft by ('Opportunity_ID__c.AccountId.Tier__c') left, ot1 by ('Opportunity_ID__c.AccountId.Tier__c') left, pt1 by ('Opportunity_ID__c.AccountId.Tier__c') left, fgwrt_A by ('Opportunity_ID__c.AccountId.Tier__c') left, fgwrt_B by ('Opportunity_ID__c.AccountId.Tier__c'); \nresult2A = foreach result2A generate coalesce(ot1.'Opportunity_ID__c.AccountId.Tier__c', pt1.'Opportunity_ID__c.AccountId.Tier__c', ft.'Opportunity_ID__c.AccountId.Tier__c', fgwrt_A.'Opportunity_ID__c.AccountId.Tier__c', fgwrt_B.'Opportunity_ID__c.AccountId.Tier__c') as 'Tier', coalesce((coalesce(sum(ft.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(ot1.'Total_Value_of_Service_Area__c'),0)-coalesce(sum(pt1.'Total_Value_of_Service_Area__c'),0)) * (round(coalesce(sum(fgwrt_B.'Total_Value_of_Service_Area__c'),0)/coalesce(sum(fgwrt_A.'Total_Value_of_Service_Area__c'),0),2)),0) as 'CQFUNNEL';                result3 = union t, resultA, ot, result1A, result2A; result3 = group result3 by ('Tier'); result3 = foreach result3 generate 'Tier' as 'Tier', \"5NeedToFind\" as 'Segment',  (case when coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) >0 then coalesce(coalesce(sum('CQTarget'),0)-coalesce(sum('CQNNBW'),0)-coalesce(sum('CQROADMAP'),0)-coalesce(sum('CQPOTENTIAL'),0)-coalesce(sum('CQFUNNEL'),0),0) else 0 end)  as 'CurrentQuarter';             \nSalesRegion = union result, ont, result1, result2, result3;\nSalesRegion = limit SalesRegion 10000;",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Segment"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "Tier"
                            ],
                            "plots": [
                                "CurrentQuarter"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "Tier",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            },
            "Butterflychart_Tier12": {
                "broadcastFacet": true,
                "groups": [],
                "numbers": [],
                "query": "q = load \"Opportunity_with_Service_Area_New_Service_Area_Group\";q = filter q by 'Opportunity_ID__c.AccountId.Tier__c' in [\"Tier 1\", \"Tier 2\"];q = filter q by 'Opportunity_ID__c.AccountId.Name' != \"GPT Test Account\";q = filter q by !('Opportunity_ID__c.StageName' in [\"Closed\", \"Opportunity ID/Qualification\"]);q = filter q by 'Opportunity_ID__c.Sales_Adjustment_Opportuntiy__c' == \"false\";q = filter q by 'Opportunity_ID__c.Ballpark_Costing_Excercise__c' == 0;\nq_In = filter q by 'Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_In = filter q_In by 'Opportunity_ID__c.StageName' in [\"Closed\", \"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\", \"Bid Defence\", \"Closing the Opportunity\", \"Deliverable In Process\", \"Submitted to Client\", \"Verbally Awarded\"];\nq_In = filter q_In by date('Opportunity_ID__c.RFP_Received_Date__c_Year', 'Opportunity_ID__c.RFP_Received_Date__c_Month', 'Opportunity_ID__c.RFP_Received_Date__c_Day') in [\"current year\"..\"current year\"];\nq_In = group q_In by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c');\nq_In = foreach q_In generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', 'Opportunity_ID__c.AccountId.Target_Account_Name__c' as 'Account', \"In\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nq_Out = filter q by 'Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Latest_Version__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.Primary_Scenario__c' == \"true\";\nq_Out = filter q_Out by 'Opportunity_ID__c.StageName' in [\"Closed Cancelled\", \"Closed Lost\", \"Closed Won\", \"Non-Award\"];\nq_Out = filter q_Out by date('Opportunity_ID__c.CloseDate_Year', 'Opportunity_ID__c.CloseDate_Month', 'Opportunity_ID__c.CloseDate_Day') in [\"current year\"..\"current year\"];\nq_Out = filter q_Out by 'Opportunity_ID__c.RecordTypeId.DeveloperName' != \"Sales_Adjustment\";\nq_Out = group q_Out by ('Opportunity_ID__c.AccountId.Tier__c', 'Opportunity_ID__c.AccountId.Target_Account_Name__c');\nq_Out = foreach q_Out generate 'Opportunity_ID__c.AccountId.Tier__c' as 'Tier', 'Opportunity_ID__c.AccountId.Target_Account_Name__c' as 'Account', \"Out\" as 'Butterfly', sum('Total_Value_of_Service_Area__c') as 'FunnelActivity';\n\nresult = union q_In, q_Out;\nresult = limit result 100000;\n",
                "receiveFacetSource": {
                    "mode": "all",
                    "steps": []
                },
                "selectMode": "single",
                "strings": [],
                "type": "saql",
                "useGlobal": true,
                "visualizationParameters": {
                    "parameters": {
                        "autoFitMode": "keepLabels",
                        "showValues": true,
                        "legend": {
                            "descOrder": false,
                            "showHeader": true,
                            "show": true,
                            "customSize": "auto",
                            "position": "bottom-center",
                            "inside": false
                        },
                        "axisMode": "multi",
                        "totalSumMode": "absolute",
                        "tooltip": {
                            "showBinLabel": true,
                            "measures": "",
                            "showNullValues": true,
                            "showPercentage": true,
                            "showDimensions": true,
                            "showMeasures": true,
                            "customizeTooltip": false,
                            "dimensions": ""
                        },
                        "visualizationType": "stackhbar",
                        "title": {
                            "fontSize": 14,
                            "subtitleFontSize": 11,
                            "label": "",
                            "align": "center",
                            "subtitleLabel": ""
                        },
                        "trellis": {
                            "flipLabels": false,
                            "showGridLines": true,
                            "size": [
                                100,
                                100
                            ],
                            "enable": false,
                            "type": "x",
                            "chartsPerLine": 4
                        },
                        "columnMap": {
                            "split": [
                                "Butterfly"
                            ],
                            "trellis": [],
                            "dimensionAxis": [
                                "Tier",
                                "Account"
                            ],
                            "plots": [
                                "FunnelActivity"
                            ]
                        },
                        "showActionMenu": true,
                        "measureAxis2": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "measureAxis1": {
                            "sqrtScale": false,
                            "showTitle": true,
                            "showAxis": true,
                            "title": "",
                            "customDomain": {
                                "showDomain": false
                            }
                        },
                        "normalize": true,
                        "theme": "wave",
                        "dimensionAxis": {
                            "showTitle": true,
                            "customSize": 20,
                            "showAxis": true,
                            "title": "",
                            "icons": {
                                "useIcons": false,
                                "iconProps": {
                                    "fit": "contain",
                                    "column": "Tier",
                                    "type": "square"
                                }
                            }
                        },
                        "applyConditionalFormatting": true
                    },
                    "type": "chart"
                }
            }
        },
        "widgetStyle": {
            "backgroundColor": "#FFFFFF",
            "borderColor": "#E6ECF2",
            "borderEdges": [],
            "borderRadius": 0,
            "borderWidth": 1
        },
        "widgets": {
            "navigation_6": {
                "parameters": {
                    "fontSize": 12,
                    "selectedTab": {
                        "backgroundColor": "#FFFFFF",
                        "borderColor": "#3AE867",
                        "borderEdges": [
                            "bottom"
                        ],
                        "borderWidth": 2,
                        "textColor": "#006667"
                    },
                    "tabCount": 6,
                    "textColor": "#FFFFFF"
                },
                "type": "navigation"
            },
            "navigation_5": {
                "parameters": {
                    "fontSize": 12,
                    "selectedTab": {
                        "backgroundColor": "#FFFFFF",
                        "borderColor": "#3AE867",
                        "borderEdges": [
                            "bottom"
                        ],
                        "borderWidth": 2,
                        "textColor": "#006667"
                    },
                    "tabCount": 6,
                    "textColor": "#FFFFFF"
                },
                "type": "navigation"
            },
            "navigation_4": {
                "parameters": {
                    "fontSize": 12,
                    "selectedTab": {
                        "backgroundColor": "#FFFFFF",
                        "borderColor": "#3AE867",
                        "borderEdges": [
                            "bottom"
                        ],
                        "borderWidth": 2,
                        "textColor": "#006667"
                    },
                    "tabCount": 6,
                    "textColor": "#FFFFFF"
                },
                "type": "navigation"
            },
            "navigation_3": {
                "parameters": {
                    "fontSize": 12,
                    "selectedTab": {
                        "backgroundColor": "#FFFFFF",
                        "borderColor": "#3AE867",
                        "borderEdges": [
                            "bottom"
                        ],
                        "borderWidth": 2,
                        "textColor": "#006667"
                    },
                    "tabCount": 6,
                    "textColor": "#FFFFFF"
                },
                "type": "navigation"
            },
            "text_1": {
                "parameters": {
                    "fontSize": 12,
                    "showActionMenu": true,
                    "text": "          * Excludes Ballpark and Costing Exercise\n          * Excludes Sales Adjustments\n          * In = RFP Received YTD\n          * Out = Outcomes YTD (Closed Won, Closed Lost and Closed Cancelled)",
                    "textAlignment": "left",
                    "textColor": "#091A3E"
                },
                "type": "text"
            },
            "navigation_2": {
                "parameters": {
                    "fontSize": 12,
                    "selectedTab": {
                        "backgroundColor": "#FFFFFF",
                        "borderColor": "#3AE867",
                        "borderEdges": [
                            "bottom"
                        ],
                        "borderWidth": 2,
                        "textColor": "#006667"
                    },
                    "tabCount": 6,
                    "textColor": "#FFFFFF"
                },
                "type": "navigation"
            },
            "navigation_1": {
                "parameters": {
                    "fontSize": 12,
                    "selectedTab": {
                        "backgroundColor": "#FFFFFF",
                        "borderColor": "#3AE867",
                        "borderEdges": [
                            "bottom"
                        ],
                        "borderWidth": 2,
                        "textColor": "#006667"
                    },
                    "tabCount": 6,
                    "textColor": "#FFFFFF"
                },
                "type": "navigation"
            },
            "table_1": {
                "parameters": {
                    "borderColor": "rgb(0, 71, 80)",
                    "borderWidth": 1,
                    "cell": {
                        "backgroundColor": "#ffffff",
                        "fontColor": "#16325c",
                        "fontSize": 12
                    },
                    "columnProperties": {},
                    "columns": [],
                    "customBulkActions": [],
                    "exploreLink": true,
                    "header": {
                        "backgroundColor": "#f4f6f9",
                        "fontColor": "#16325c",
                        "fontSize": 14
                    },
                    "innerMajorBorderColor": "#a8b7c7",
                    "innerMinorBorderColor": "#e0e5ee",
                    "maxColumnWidth": 300,
                    "minColumnWidth": 40,
                    "mode": "variable",
                    "numberOfLines": 1,
                    "pivoted": false,
                    "showActionMenu": true,
                    "showRowIndexColumn": false,
                    "step": "Target_SellingTeam",
                    "totals": true,
                    "verticalPadding": 4,
                    "evenRowColor": null,
                    "oddRowColor": null
                },
                "type": "table"
            },
            "table_2": {
                "parameters": {
                    "borderColor": "#e0e5ee",
                    "borderWidth": 1,
                    "cell": {
                        "backgroundColor": "#ffffff",
                        "fontColor": "#16325c",
                        "fontSize": 10
                    },
                    "columnProperties": {},
                    "columns": [],
                    "customBulkActions": [],
                    "exploreLink": true,
                    "header": {
                        "backgroundColor": "#f4f6f9",
                        "fontColor": "#16325c",
                        "fontSize": 12
                    },
                    "innerMajorBorderColor": "#a8b7c7",
                    "innerMinorBorderColor": "#e0e5ee",
                    "mode": "fittocontainer",
                    "numberOfLines": 1,
                    "pivoted": false,
                    "showActionMenu": true,
                    "showRowIndexColumn": false,
                    "step": "Target_Account_Tier",
                    "totals": true,
                    "verticalPadding": 4,
                    "evenRowColor": null,
                    "oddRowColor": null
                },
                "type": "table"
            },
            "table_3": {
                "parameters": {
                    "borderColor": "#e0e5ee",
                    "borderWidth": 1,
                    "cell": {
                        "backgroundColor": "#ffffff",
                        "fontColor": "#16325c",
                        "fontSize": 12
                    },
                    "columnProperties": {},
                    "columns": [],
                    "customBulkActions": [],
                    "exploreLink": true,
                    "header": {
                        "backgroundColor": "#f4f6f9",
                        "fontColor": "#16325c",
                        "fontSize": 12
                    },
                    "innerMajorBorderColor": "#a8b7c7",
                    "innerMinorBorderColor": "#e0e5ee",
                    "mode": "fittocontainer",
                    "numberOfLines": 1,
                    "pivoted": false,
                    "showActionMenu": true,
                    "showRowIndexColumn": false,
                    "step": "Target_ServiceArea",
                    "totals": true,
                    "verticalPadding": 8,
                    "evenRowColor": null,
                    "oddRowColor": null
                },
                "type": "table"
            },
            "chart_9": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": true,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Butterfly"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "Tier"
                        ],
                        "plots": [
                            "FunnelActivity"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": false,
                        "showAxis": false,
                        "referenceLines": [
                            {
                                "color": "#FFFFFF",
                                "value": {
                                    "data": 50,
                                    "type": "static"
                                }
                            }
                        ],
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "Butterflychart_Tier3",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 20,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "Tier",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_6": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": true,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "YTD Funnel Activity",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Butterfly"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "Service Area"
                        ],
                        "plots": [
                            "FunnelActivity"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": false,
                        "showAxis": true,
                        "referenceLines": [
                            {
                                "color": "#FFFFFF",
                                "value": {
                                    "data": 50,
                                    "type": "static"
                                }
                            }
                        ],
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "Butterflychart_ServiceArea",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 10,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "Service Area",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_5": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": true,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "YTD Funnel Activity",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Butterfly"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "AE Region"
                        ],
                        "plots": [
                            "FunnelActivity"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": false,
                        "showAxis": true,
                        "referenceLines": [
                            {
                                "color": "#FFFFFF",
                                "value": {
                                    "data": 50,
                                    "type": "static"
                                }
                            }
                        ],
                        "title": "",
                        "customDomain": {
                            "low": 0,
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "Butterflychart_SellingTeam",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 10,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "AE Region",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_7": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": false,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "YTD Funnel Activity",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Butterfly"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "Tier",
                            "Account"
                        ],
                        "plots": [
                            "FunnelActivity"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": false,
                        "showAxis": true,
                        "referenceLines": [
                            {
                                "color": "#FFFFFF",
                                "value": {
                                    "data": 50,
                                    "type": "static"
                                }
                            }
                        ],
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "Butterflychart_Tier12",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 20,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "Tier",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_2": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": true,
                        "show": false,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Segment"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "Tier",
                            "Account"
                        ],
                        "plots": [
                            "CurrentQuarter"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "CQChart_Account_Tier12",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 30,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "AE Region",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_1": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": true,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Segment"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "AE Region"
                        ],
                        "plots": [
                            "CurrentQuarter"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "CQChart_SellingTeam",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 20,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "AE Region",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_4": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": true,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Segment"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "Service Area"
                        ],
                        "plots": [
                            "CurrentQuarter"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "CQChart_ServiceArea",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 20,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "Service Area",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            },
            "chart_3": {
                "parameters": {
                    "autoFitMode": "keepLabels",
                    "showValues": true,
                    "legend": {
                        "descOrder": false,
                        "showHeader": false,
                        "show": true,
                        "customSize": "auto",
                        "position": "bottom-center",
                        "inside": false
                    },
                    "axisMode": "multi",
                    "totalSumMode": "absolute",
                    "tooltip": {
                        "showBinLabel": true,
                        "measures": "",
                        "showNullValues": true,
                        "showPercentage": true,
                        "showDimensions": true,
                        "showMeasures": true,
                        "customizeTooltip": false,
                        "dimensions": ""
                    },
                    "visualizationType": "stackhbar",
                    "exploreLink": true,
                    "title": {
                        "fontSize": 14,
                        "subtitleFontSize": 11,
                        "label": "",
                        "align": "center",
                        "subtitleLabel": ""
                    },
                    "trellis": {
                        "flipLabels": false,
                        "showGridLines": true,
                        "size": [
                            100,
                            100
                        ],
                        "enable": false,
                        "type": "x",
                        "chartsPerLine": 4
                    },
                    "columnMap": {
                        "split": [
                            "Segment"
                        ],
                        "trellis": [],
                        "dimensionAxis": [
                            "Tier"
                        ],
                        "plots": [
                            "CurrentQuarter"
                        ]
                    },
                    "showActionMenu": true,
                    "measureAxis2": {
                        "sqrtScale": false,
                        "showTitle": true,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "measureAxis1": {
                        "sqrtScale": false,
                        "showTitle": false,
                        "showAxis": true,
                        "title": "",
                        "customDomain": {
                            "showDomain": false
                        }
                    },
                    "normalize": true,
                    "theme": "wave",
                    "step": "CQChart_Account_Tier3",
                    "dimensionAxis": {
                        "showTitle": false,
                        "customSize": 30,
                        "showAxis": true,
                        "title": "",
                        "icons": {
                            "useIcons": false,
                            "iconProps": {
                                "fit": "contain",
                                "column": "Tier",
                                "type": "square"
                            }
                        }
                    },
                    "applyConditionalFormatting": true
                },
                "type": "chart"
            }
        }
    },
    "datasets": [
        {
            "id": "0FbD0000000R6OwKAK",
            "label": "Contracts with Service Areas with Services New SA/Service Groups",
            "name": "Contracts_with_Service_Areas_with_Services_New_SA_Service_Groups",
            "url": "/services/data/v48.0/wave/datasets/0FbD0000000R6OwKAK"
        },
        {
            "id": "0FbD0000000R6PQKA0",
            "label": "Opportunity with Service Area_New Service Area Group",
            "name": "Opportunity_with_Service_Area_New_Service_Area_Group",
            "url": "/services/data/v48.0/wave/datasets/0FbD0000000R6PQKA0"
        },
        {
            "id": "0FbD0000000XZBtKAO",
            "label": "TARGETS",
            "name": "TARGETS",
            "url": "/services/data/v48.0/wave/datasets/0FbD0000000XZBtKAO"
        }
    ]
}
